\NeedsTeXFormat{LaTeX2e}[1995/12/01]
\ProvidesPackage{casus2017dev}
  [2021/04/12 v0.02 Casus modification (OMB)]
% Роман Осауленко повідомив 2021/03/17, що в mon2017dev від 2021/01/17 v0.07
% не працює відмінювання назв установ в авторефераті.
% Виникає помилка Undefined control sequence \declension.
% З'ясувалося, що під час компіляції файла mon2017dev-aref.tex
% з новими версіями LaTeX (принамні з версією від 2020-10-01)
% чомусь спочатку завантажується пакунок casus2017dev, а потім casus.
% А мало би бути навпаки.
% У цій версії LaTeX якраз з'явилися значні зміни, пов'язані з хуками,
% які пропонують можливості для зміни порядку виконання команд.
% Зокрема, це вплинуло і на стандартний хук \AtBeginDocument.
% Клас mon2017dev-aref використовує \AtBeginDocument
% для завантаження і casus, і casus2017dev, бо вони містять кирилицю.
% Якщо викликати пакунок casus відразу тут,
% то пакунок casus2017dev уже зможе його використовувати без будь-яких проблем.
% Тепер відмінювання має працювати з будь-якою версією LaTeX.
\RequirePackage{casus}
%% Приклад правил
\declension{% цей рядок обов'язково повинен закінчуватися знаком %
[noun]
-ніверситет ніверситету ніверситету ніверситет ніверситетом ніверситеті ніверситете.
-нститут нституту нституту нститут нститутом нституті нституте.
-кадемія кадемії кадемії кадемію кадемією кадемії кадеміє.
-ехнікум ехнікуму ехнікуму ехнікум ехнікумом ехнікумі ехнікуме.
-оледж оледжу оледжу оледж оледжом оледжі оледже.
-іністерство іністерства іністерству іністерство іністерством іністерстві іністерство.
-ентр ентру ентру ентр ентром ентрі ентре.
-омплекс омплексу омплексу омплекс омплексом омплексі омплексе.
-б'єднання б'єднання б'єднанню б'єднання б'єднанням б'єднанні б'єднання.
-ібліотека ібліотеки ібліотеці ібліотеку ібліотекою ібліотеці ібліотеко.
-ідділ ідділу ідділу ідділ ідділом ідділі ідділе.
-афедра афедри афедрі афедру афедрою афедрі афедро.
%% I відміна
%%   тверда група
-га ги зі гу гою зі го.
-ка ки ці ку кою ці ко.
-ха хи сі ху хою сі хо.
-а и і у ою і о.
%%   м'яка група
-я і і ю ею і е.
-ія ії ії ію ією ії іє.
%%   мішана група
-жа жі жі жу жею жі же.
-ча чі чі чу чею чі че.
-ша ші ші шу шею ші ше.
-ща щі щі щу щею щі ще.
[adjective]
-ий ого ому ий им ому.
-а ої ій у ою ій.
-е ого ому е им ому.
-ій ього ьому ій ім ьому.
-я ьої ій ю ьою ій.
-є ього ьому є ім ьому.
}
\def\@split@sentence#1 {%
  \ifx\relax#1\relax
    \unskip
  \else
    \ifthenelse{\equal{#1}{університет}\or\equal{#1}{Університет}\or
                \equal{#1}{інститут}\or\equal{#1}{Інститут}\or
                \equal{#1}{академія}\or\equal{#1}{Академія}\or
                \equal{#1}{технікум}\or\equal{#1}{Технікум}\or
                \equal{#1}{коледж}\or\equal{#1}{Коледж}\or
                \equal{#1}{міністерство}\or\equal{#1}{Міністерство}\or
                \equal{#1}{центр}\or\equal{#1}{Центр}\or
                \equal{#1}{комплекс}\or\equal{#1}{Комплекс}\or
                \equal{#1}{об'єднання}\or\equal{#1}{Об'єднання}\or
                \equal{#1}{бібліотека}\or\equal{#1}{Бібліотека}\or
                \equal{#1}{відділ}\or\equal{#1}{Відділ}\or
                \equal{#1}{кафедра}\or\equal{#1}{Кафедра}}
      {\case[noun]{\@case}{#1}
       \def\@processword##1{##1 }}
      {\@processword{#1}}%
    \expandafter\@split@sentence
  \fi}
\endinput
